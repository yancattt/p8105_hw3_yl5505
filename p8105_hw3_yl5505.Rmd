---
title: "p8105_hw3_yl5505"
author: "Yan Li"
date: "2024-10-11"
output: github_document
---

```{r}
library(tidyverse)
library(p8105.datasets)
data("ny_noaa")
```
# Problem 1

## Overview

```{r}
ny_noaa

summarize(ny_noaa, rows = n(), columns = ncol(ny_noaa))

summarize(ny_noaa, across(everything(), ~mean(is.na(.))))
```

-- This dataset is a weather dataset, it has 2595176 rows and 7 variables
- `id`: Weather station ID
- `date`: Date of observation
- `prcp`: Precipitation (tenths of mm)
- `snow`: Snowfall (mm)
- `snwd`: Snow depth (mm)
- `tmax`: Maximum temperature (tenths of degrees C)
- `tmin`: Minimum temperature (tenths of degrees C)
-- There are many columns with missing data. tmax and tmin have about 44% data missing, snow has 15%, and snwd has 23%. Missing data could cause bias or make the dataset less reliable for certain analyses. 

## Data cleaning
- create new variables
```{r}
noaa_cleaned = ny_noaa |>
  mutate(
    year = as.numeric(format(date, "%Y")),
    month = as.numeric(format(date, "%m")),
    day = as.numeric(format(date, "%d"))
  )
noaa_cleaned
```
- unit conversion 
```{r}
noaa_cleaned = ny_noaa |>
  mutate(
     tmax = as.numeric(tmax) / 10,
    tmin = as.numeric(tmin) / 10,
    prcp = as.numeric(prcp) / 10
  )
noaa_cleaned
```
- most common snowfall value
```{r}
noaa_cleaned = ny_noaa |>
  count(snow) |>
  arrange(desc(n))

noaa_cleaned
```
-- The most commonly observed snowfall value is 0 mm, it mean that on most days there was no snowfall recorded. It is reasonable becasue New York does not snow a lot considering its location and geography. 








